<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Đăng nhập</title>
    <link href="/assets/css/styles.css" rel="stylesheet" />
    <link href="/assets/css/auth.css" rel="stylesheet" />
     <!-- SweetAlert2 -->
  	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
</head>
<body>
<div class="auth-wrapper auth-login">


    <div class="auth-card">
        <div class="auth-logo">
            <img src="/images/navbar-logo.svg" alt="Logo"/>
        </div>
        <div class="auth-title">Đăng nhập để tiếp tục</div>

			<!-- SweetAlert khi lỗi -->
			<script th:if="${param.error}">
				Swal.fire({
					icon : 'error',
					title : 'Đăng nhập thất bại',
					text : 'Sai email hoặc mật khẩu.',
					confirmButtonText : 'Thử lại'
				});
			</script>

			<script th:if="${param.registered}">
				Swal.fire({
					icon : 'success',
					title : 'Tạo tài khoản thành công',
					text : 'Vui lòng đăng nhập để tiếp tục.'
				});
			</script>


			<form th:action ="@{/login}" method = "post">
        
            <div class="mb-3">
                <label for="email" class="form-label">Email<span class="text-danger">*</span></label>
                <input type="email" class="form-control" id="email" name="email" placeholder="Nhập email của bạn" required>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Mật khẩu<span class="text-danger">*</span></label>
                <input type="password" class="form-control" id="password" name="password" placeholder="Nhập mật khẩu" required>
            </div>
            <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" value="" id="remember" name="remember-me">
                <label class="form-check-label" for="remember">Nhớ thông tin đăng nhập của tôi</label>
            </div>
            <button type="submit" class="btn btn-primary btn-auth-primary">Tiếp tục</button>
        </form>
        <div class="auth-or">Hoặc tiếp tục với</div>
        <div class="social-stack">
            <button class="social-btn" type="button">
                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google" width="20" height="20"> Google
            </button>
        </div>
        <div class="auth-links">
            <a href="/reset/request">Quên mật khẩu?</a>
            &nbsp;·&nbsp;
            <a href="/register">Tạo tài khoản</a>
        </div>
    </div>
</div>

<script th:if="${passwordChanged}" th:inline="javascript">
    Swal.fire({
        icon: 'success',
        title: 'Đổi mật khẩu thành công',
        text: 'Vui lòng đăng nhập lại với mật khẩu mới.'
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>